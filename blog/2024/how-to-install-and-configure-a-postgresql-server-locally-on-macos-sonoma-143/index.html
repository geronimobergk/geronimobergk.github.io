<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*DEp0HVlO7JSw3i39L3G6AA.png"><figcaption>The postgres elephant arriving in Sonoma.</figcaption></figure> <p>Installing and configuring a PostgreSQL server on your local macOS environment can significantly enhance your development workflow, allowing you to manage databases for your applications with ease. This blog post will guide you through setting up PostgreSQL on macOS Sonoma 14.3 using Homebrew, configuring it to launch at startup, and performing basic operations like checking the server status and connecting to your databases.</p> <h4>Installing PostgreSQL with Homebrew</h4> <p><a href="https://brew.sh/" rel="external nofollow noopener" target="_blank">Homebrew</a> is a popular package manager for macOS that simplifies the process of installing and managing software. To get started with PostgreSQL, ensure your Homebrew is up-to-date:</p> <pre>brew update</pre> <p>Next, install PostgreSQL:</p> <pre>brew install postgresql</pre> <p>To start the PostgreSQL service and have it run in the background:</p> <pre>brew services start postgresql@14</pre> <p>This command will initiate PostgreSQL as a background service, ensuring that it automatically starts whenever you boot your system.</p> <h4>Configuring PostgreSQL to Launch at Startup</h4> <p>macOS utilizes LaunchAgents to manage applications that start at login. To configure PostgreSQL to start automatically, you first need to create a directory for LaunchAgents if it doesn’t already exist:</p> <pre>mkdir -p ~/Library/LaunchAgents</pre> <p>Then, create a symbolic link for the PostgreSQL plist (property list) file to this directory:</p> <pre>ln -sfv /opt/homebrew/Cellar/postgresql@14/14.10_1/*.plist ~/Library/LaunchAgents</pre> <p>To register the PostgreSQL service with launchctl and ensure it starts at login for your user account:</p> <pre>launchctl bootstrap gui/$(id -u) ~/Library/LaunchAgents/homebrew.mxcl.postgresql@14.plist<br>launchctl enable gui/$(id -u)/homebrew.mxcl.postgresql@14.plist</pre> <p>These commands utilize your user ID to correctly place the PostgreSQL service under your user’s domain, automating its startup process.</p> <h4>Verifying the PostgreSQL Server Status</h4> <p>To check whether the PostgreSQL server is running correctly, you can use the pg_ctl command with the specific directory of your PostgreSQL installation:</p> <pre>pg_ctl status -D /opt/homebrew/var/postgresql@14</pre> <p>This command provides immediate feedback on the server’s status, ensuring everything is operating as expected.</p> <h4>Connecting to the PostgreSQL Server</h4> <p>With your PostgreSQL server up and running, connect to the default database to start managing your data:</p> <pre>psql -d postgres</pre> <p>This command launches the psql command-line interface, allowing you to execute SQL commands, manage databases, and explore PostgreSQL features.</p> <h4>Listing Databases</h4> <p>To view all databases on your PostgreSQL server:</p> <pre>\l</pre> <p>This command displays a list of all your current databases, their owners, and their encoding settings, resembling the following output:</p> <pre>                                  List of databases<br>   Name    |  Owner   | Encoding |   Collate   |    Ctype    |   Access privileges<br>-----------+----------+----------+-------------+-------------+-----------------------<br> postgres  | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 | <br> template0 | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 | =c/postgres          +<br>           |          |          |             |             | postgres=CTc/postgres<br> template1 | postgres | UTF8     | en_US.UTF-8 | en_US.UTF-8 | =c/postgres          +<br>           |          |          |             |             | postgres=CTc/postgres<br> mydb      | myuser   | UTF8     | en_US.UTF-8 | en_US.UTF-8 | <br>(4 rows)</pre> <p>To exit the psql interface, simply type:</p> <pre>\q</pre> <h4>Conclusion</h4> <p>Setting up PostgreSQL on macOS Sonoma 14.3 with Homebrew is a straightforward process that integrates seamlessly into your development environment. By following these steps, you can have a robust, fully functional PostgreSQL server ready for all your local development needs. Whether you’re working on web applications, exploring data science projects, or just learning SQL, a local PostgreSQL server is an invaluable tool for your development toolkit.</p> <p><img src="https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=c2b51fa6d32b" width="1" height="1" alt=""></p> </body></html>